---
import Layout from "../../layouts/Layout.astro";
import NavbarLab from "../../components/NavbarLab.astro";
import { experiments } from "../../data/experiments";
import LabPreviewCard from "../../components/LabPreviewCard.astro";

const GSAP_SLUGS = [
  "cursor-gsap",
  "parallax-scroll",
  "scroll-progress",
  "scroll-reveal",
  "scrolltrigger-animation",
  "scrolltrigger-timeline",
];

const gsapDemos = experiments
  .filter((exp) => GSAP_SLUGS.includes(exp.slug))
  .filter((exp) => !!exp.demo);
---

<Layout>
  <NavbarLab />

  <section
    class="page-bg py-24 px-6 md:px-12"
    role="region"
    aria-labelledby="gsap-title"
  >
    <div class="max-w-7xl mx-auto">
      <h1
        id="gsap-title"
        class="text-4xl md:text-5xl font-extrabold text-center mb-12 text-surface"
      >
        Demos de Animaciones con GSAP üöÄ
      </h1>

      <ul
        class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-8"
        aria-labelledby="gsap-title"
      >
        {
          gsapDemos.map((exp, i) => (
            <li class="fade-in-up" style={`animation-delay:${i * 80}ms`}>
              <LabPreviewCard
                title={exp.title}
                description={exp.description}
                href={exp.demo ?? ""}
                poster={exp.image}
                posterWebp={exp.imageWebp}
                posterAvif={exp.imageAvif}
              />
            </li>
          ))
        }
      </ul>

      <div class="mt-12 text-center">
        <a href="/lab" class="btn-outline rounded-full"
          >‚Üê Volver al laboratorio</a
        >
      </div>
    </div>
  </section>
</Layout>
