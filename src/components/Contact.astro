<section
  id="contacto"
  class="page-bg py-24 px-6 md:px-12"
  role="region"
  aria-labelledby="contact-title"
  data-reveal
>
  <div class="max-w-4xl mx-auto">
    <div class="glass-box p-8 md:p-12 transition-all">
      <h2
        id="contact-title"
        class="text-4xl md:text-5xl font-extrabold text-surface text-center mb-8 leading-tight"
      >
        Â¿Charlamos?
      </h2>

      <p
        class="text-base md:text-lg text-surface-muted mb-10 leading-relaxed text-center text-balance max-w-2xl mx-auto"
      >
        Si tenÃ©s una propuesta, proyecto o idea para desarrollar, estoy abierto
        a nuevas oportunidades y colaboraciones. PodÃ©s escribirme directo o
        contactarme por LinkedIn.
      </p>

      <div class="flex flex-col sm:flex-row sm:justify-center gap-4">
        <!-- Email protegido contra scrapers: se arma por JS -->
        <a
          id="email-link"
          data-user="alexmp.2602"
          data-domain="gmail.com"
          class="btn-primary inline-flex items-center justify-center rounded-full"
          aria-label="Escribirme por email"
        >
          ðŸ“§ Escribime
        </a>

        <!-- Copiar email al portapapeles -->
        <button
          id="copy-email"
          type="button"
          class="btn-outline inline-flex items-center justify-center rounded-full"
        >
          ðŸ“‹ Copiar mail
        </button>

        <a
          href="https://www.linkedin.com/in/alex-pereyra-dev"
          target="_blank"
          rel="noopener noreferrer"
          class="btn-outline inline-flex items-center justify-center rounded-full"
          aria-label="Abrir mi perfil de LinkedIn en una nueva pestaÃ±a"
        >
          ðŸ”— LinkedIn
        </a>
      </div>

      <!-- Mensajes accesibles -->
      <p id="copy-status" class="sr-only" aria-live="polite"></p>
    </div>
  </div>

  <!-- Script inline para armar mailto y copiar email -->
  <script is:inline>
    (function () {
      const link = document.getElementById("email-link");
      const copyBtn = document.getElementById("copy-email");
      const live = document.getElementById("copy-status");

      if (link) {
        const email = `${link.dataset.user}@${link.dataset.domain}`;
        const subject = encodeURIComponent("Consulta desde alexpereyra.dev");
        link.setAttribute("href", `mailto:${email}?subject=${subject}`);
      }

      if (copyBtn && link) {
        copyBtn.addEventListener("click", async () => {
          const email = `${link.dataset.user}@${link.dataset.domain}`;
          try {
            await navigator.clipboard.writeText(email);
            copyBtn.textContent = "âœ… Copiado";
            if (live) live.textContent = "Email copiado al portapapeles";
            setTimeout(() => {
              copyBtn.textContent = "ðŸ“‹ Copiar mail";
              if (live) live.textContent = "";
            }, 1500);
          } catch {
            if (live)
              live.textContent = "No se pudo copiar. ProbÃ¡ manualmente.";
          }
        });
      }
    })();
  </script>
</section>
