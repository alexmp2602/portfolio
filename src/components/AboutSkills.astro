---
interface Skill {
  name: string;
  icon: string;
}

interface SkillGroup {
  [category: string]: Skill[];
}

const skills: SkillGroup = {
  Frontend: [
    { name: "HTML5", icon: "https://cdn.simpleicons.org/html5/E34F26" },
    { name: "CSS3", icon: "https://cdn.simpleicons.org/css3/1572B6" },
    {
      name: "JavaScript",
      icon: "https://cdn.simpleicons.org/javascript/F7DF1E",
    },
    {
      name: "TypeScript",
      icon: "https://cdn.simpleicons.org/typescript/3178C6",
    },
    { name: "React", icon: "https://cdn.simpleicons.org/react/61DAFB" },
    { name: "Astro", icon: "https://cdn.simpleicons.org/astro/FF5D01" },
    { name: "Next.js", icon: "https://cdn.simpleicons.org/nextdotjs/000000" },
    {
      name: "Tailwind",
      icon: "https://cdn.simpleicons.org/tailwindcss/06B6D4",
    },
  ],
  Herramientas: [
    { name: "Git", icon: "https://cdn.simpleicons.org/git/F05032" },
    { name: "GitHub", icon: "https://cdn.simpleicons.org/github/181717" },
    { name: "Vite", icon: "https://cdn.simpleicons.org/vite/646CFF" },
    { name: "ESLint", icon: "https://cdn.simpleicons.org/eslint/4B32C3" },
    { name: "Prettier", icon: "https://cdn.simpleicons.org/prettier/F7B93E" },
    { name: "Jest", icon: "https://cdn.simpleicons.org/jest/C21325" },
    {
      name: "Lighthouse",
      icon: "https://cdn.simpleicons.org/lighthouse/FF6D00",
    },
    {
      name: "DevTools",
      icon: "https://cdn.simpleicons.org/googlechrome/4285F4",
    },
  ],
};

const invertInDark = ["GitHub", "Next.js"];
---

<section
  id="sobre-mi"
  class="page-bg py-28 px-6 md:px-12"
  role="region"
  aria-labelledby="about-title"
>
  <div class="max-w-7xl mx-auto">
    <h2
      id="about-title"
      class="text-surface text-4xl md:text-5xl font-extrabold text-center mb-16 animate-fade-slide"
      data-reveal
    >
      Sobre mí & Tecnologías
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-16 items-start">
      <!-- Columna izquierda -->
      <div class="flex flex-col gap-10 animate-fade-slide-down" data-reveal>
        <div class="flex justify-center">
          <img
            src="/assets/profile/alex.webp"
            alt="Foto de Alex Pereyra"
            class="rounded-3xl shadow-lg max-w-[280px] w-full object-cover transition-transform duration-300 hover:scale-105"
            loading="lazy"
            decoding="async"
            width="280"
            height="280"
          />
        </div>

        <div class="glass-box p-6 space-y-6 leading-relaxed text-balance">
          <p class="text-surface text-lg md:text-xl text-justify">
            Soy <strong>Alex Pereyra</strong>, desarrollador frontend metódico y
            detallista, apasionado por crear interfaces limpias, modernas y
            accesibles. Trabajo con Astro, React, Tailwind CSS y TypeScript,
            priorizando siempre buenas prácticas, rendimiento y calidad en cada
            proyecto.
          </p>
          <p class="text-surface-muted text-sm text-center">
            Mi stack está orientado a eficiencia, diseño y accesibilidad. Me
            enfoco en experiencias limpias, rápidas y adaptables a cualquier
            dispositivo.
          </p>
        </div>
      </div>

      <!-- Columna derecha -->
      <div class="flex flex-col gap-8" data-reveal>
        {
          Object.entries(skills).map(([group, techs], groupIndex) => (
            <div
              class="glass-box p-6 transition-transform duration-300 hover:scale-[1.02] motion-safe:animate-fade-slide-up"
              style={`animation-delay: ${groupIndex * 100}ms`}
            >
              <h3
                class="text-lg md:text-xl font-semibold text-primary tracking-wide mb-4 text-center"
                id={`skills-${groupIndex}`}
              >
                {group}
              </h3>

              <ul
                class="grid grid-cols-4 gap-6 place-items-center"
                aria-labelledby={`skills-${groupIndex}`}
              >
                {techs.map((skill, index) => {
                  const shouldInvert = invertInDark.includes(skill.name);
                  return (
                    <li
                      class="flex flex-col items-center gap-2 select-none motion-safe:animate-fade-slide-up"
                      style={`animation-delay: ${index * 80}ms`}
                    >
                      <div
                        class="w-14 h-14 rounded-xl bg-light/70 dark:bg-dark/70 shadow-inner ring-1 ring-black/5 dark:ring-white/10 flex items-center justify-center transition-transform duration-300 hover:scale-110"
                        title={skill.name}
                      >
                        <img
                          src={skill.icon}
                          alt={skill.name}
                          loading="lazy"
                          decoding="async"
                          class={`w-8 h-8 transition duration-300 ${shouldInvert ? "icon-invert-dark" : ""}`}
                        />
                      </div>
                      <span class="text-xs sm:text-sm text-surface tracking-tight text-center">
                        {skill.name}
                      </span>
                    </li>
                  );
                })}
              </ul>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>
