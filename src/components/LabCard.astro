---
const { title, slug, demo } = Astro.props;
---

<style>
  iframe {
    width: 100%;
    height: 12rem;
    border-top: 1px solid rgba(0, 0, 0, 0.05);
    transition:
      filter 0.3s,
      opacity 0.3s;
  }

  @media (max-width: 767px) {
    iframe {
      pointer-events: none;
      user-select: none;
      filter: grayscale(30%);
      opacity: 0.8;
    }
  }

  @media (min-width: 768px) {
    iframe {
      pointer-events: auto;
      user-select: auto;
      filter: none;
      opacity: 1;
    }
  }
</style>

<article
  class="glass-card rounded-2xl overflow-hidden shadow-md transition-transform hover:scale-[1.015] hover:shadow-xl motion-safe:animate-fade-slide-up"
  data-reveal
>
  <a href={`/lab/${slug}`} class="block h-full">
    <div class="p-5">
      <h3 class="text-xl font-semibold text-surface mb-3">
        {title}
      </h3>
    </div>

    <iframe
      src={demo}
      loading="lazy"
      title={`Vista previa de ${title}`}
      sandbox="allow-scripts allow-same-origin allow-popups"
      frameborder="0"
    ></iframe>
  </a>
</article>
