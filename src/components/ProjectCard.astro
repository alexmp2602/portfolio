---
interface ProjectCardProps {
  title: string;
  description: string;
  tech: string[];
  link: string;
  image: string;
  repo?: string;
}

const { title, description, tech, link, image, repo } =
  Astro.props as ProjectCardProps;
---

<div
  class="group rounded-2xl overflow-hidden shadow-xl bg-light/60 dark:bg-dark/60 ring-1 ring-black/5 dark:ring-white/10 backdrop-blur-md transition-transform duration-300 hover:scale-[1.02]"
>
  <a href={link} target="_blank" rel="noopener noreferrer" class="block">
    <div class="overflow-hidden rounded-t-2xl">
      <img
        src={image}
        alt={title}
        class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"
        loading="lazy"
      />
    </div>
  </a>

  <div class="p-6 space-y-4">
    <!-- Título y repo -->
    <div class="flex items-center justify-between gap-2">
      <h3 class="text-xl font-bold text-dark dark:text-light">{title}</h3>

      {
        repo && (
          <a
            href={repo}
            target="_blank"
            rel="noopener noreferrer"
            aria-label="Ver repositorio en GitHub"
            class="text-dark/70 dark:text-light/60 hover:text-primary dark:hover:text-accent transition-colors"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5"
              fill="currentColor"
              viewBox="0 0 24 24"
            >
              <path d="M12 .5a12 12 0 0 0-3.79 23.4c.6.1.82-.26.82-.58v-2.18c-3.34.73-4.04-1.61-4.04-1.61a3.18 3.18 0 0 0-1.34-1.77c-1.1-.75.09-.74.09-.74a2.5 2.5 0 0 1 1.82 1.22 2.56 2.56 0 0 0 3.5 1 2.58 2.58 0 0 1 .77-1.6c-2.66-.3-5.47-1.33-5.47-5.9a4.6 4.6 0 0 1 1.22-3.19 4.3 4.3 0 0 1 .12-3.14s1-.3 3.3 1.2a11.38 11.38 0 0 1 6 0c2.31-1.5 3.3-1.2 3.3-1.2a4.3 4.3 0 0 1 .12 3.14 4.6 4.6 0 0 1 1.22 3.19c0 4.58-2.81 5.6-5.48 5.9a2.9 2.9 0 0 1 .83 2.23v3.3c0 .33.22.7.83.58A12 12 0 0 0 12 .5Z" />
            </svg>
          </a>
        )
      }
    </div>

    <!-- Descripción -->
    <p class="text-sm text-dark/80 dark:text-light/70 leading-relaxed">
      {description}
    </p>

    <!-- Tecnologías -->
    <div class="flex flex-wrap gap-2 pt-2">
      {
        tech.map((item: string) => (
          <span class="text-xs bg-primary/10 text-primary dark:text-accent dark:bg-accent/10 px-3 py-1 rounded-full font-medium tracking-wide">
            {item}
          </span>
        ))
      }
    </div>
  </div>
</div>
