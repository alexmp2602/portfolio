---
// src/components/Breadcrumb.astro
interface Crumb {
  href: string;
  label: string;
}

interface Props {
  path: Crumb[];
  current: string;
}

const { path, current } = Astro.props as Props;
---

<nav
  class="fixed top-0 left-0 w-full z-50 backdrop-blur bg-white/70 dark:bg-dark/70 border-b border-gray-200 dark:border-gray-800 transition-colors"
  aria-label="Breadcrumb"
>
  <div
    class="max-w-7xl mx-auto px-6 md:px-12 py-4 flex items-center gap-2 text-sm text-dark/70 dark:text-light/50 overflow-x-auto whitespace-nowrap"
  >
    {
      path.map(({ href, label }) => (
        <>
          <!-- Crumb navegable -->
          <a
            href={href}
            class="font-medium text-dark dark:text-light hover:text-primary transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-primary rounded"
          >
            {label}
          </a>

          <!-- Separador visual (no semántico) -->
          <span class="select-none text-dark/30 dark:text-light/30">/</span>
        </>
      ))
    }

    <!-- Página actual (no link) -->
    <span
      class="font-medium truncate max-w-[50%] text-dark/50 dark:text-light/40"
      aria-current="page"
      title={current}
    >
      {current}
    </span>
  </div>
</nav>
