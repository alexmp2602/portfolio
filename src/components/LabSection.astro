---
// src/components/LabSection.astro
import LabCard from "./LabCard.astro";
import { experiments } from "../data/experiments";

type Experiment = (typeof experiments)[number];

const gsapDemo: Experiment | undefined =
  experiments.find((e) => e.slug === "gsap") ??
  experiments.find((e) => /gsap/i.test(e.title));

const gsapImg = gsapDemo?.image ?? "/demos/gsap-cover.webp";

const gsapDesc =
  gsapDemo?.description ??
  "Colección de micro-animaciones aplicables a producto: transiciones, scroll, interacción y patrones de UI.";
---

<section
  id="laboratorio"
  class="page-bg py-28 px-6 md:px-12 section-lazy"
  aria-labelledby="lab-title"
>
  <div class="max-w-7xl mx-auto">
    <h2
      id="lab-title"
      class="text-4xl md:text-5xl font-extrabold text-center mb-10 text-surface fade-in-up"
    >
      Motion Lab
    </h2>

    <div
      class="glass-box max-w-3xl mx-auto p-8 md:p-10 mb-12 text-center fade-in-up fade-delay-100"
    >
      <p class="text-lg md:text-xl text-surface-muted leading-relaxed text-balance">
        Experimentos aplicados a UI: animaciones con intención, performance y
        accesibilidad. En el home ves una vista breve; adentro está la colección
        completa.
      </p>
    </div>

    <ul class="grid grid-cols-1 gap-8">
      {
        gsapDemo && (
          <li class="fade-in-up" data-reveal>
            <LabCard
              slug="gsap"
              title="Animaciones con GSAP"
              description={gsapDesc}
              image={gsapImg}
              imageWebp={gsapDemo.imageWebp}
              imageAvif={gsapDemo.imageAvif}
            />
          </li>
        )
      }
    </ul>
  </div>
</section>
