<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Scroll Reveal</title>
    <style>
      :root {
        --accent: #60a98f;
        --accent-dark: #256340;
        --bg-dark: #1f1f1f;
        --fg: #fafafa;
      }
      * {
        box-sizing: border-box;
        margin: 0;
      }
      body {
        font-family: ui-sans-serif, system-ui, sans-serif;
        background: var(--fg);
        color: #1f1f1f;
        line-height: 1.5;
      }

      section {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        font-size: clamp(1.8rem, 4vw, 3rem);
        font-weight: 800;
        padding: 2rem;
        transition: opacity 0.7s ease-out, transform 0.7s ease-out;
      }

      /* Estado inicial oculto */
      [data-reveal] {
        opacity: 0;
        transform: translateY(60px);
      }

      /* Estado visible */
      .revealed {
        opacity: 1;
        transform: translateY(0);
      }

      /* Diferentes fondos */
      .section-1 {
        background: var(--accent);
        color: #fff;
      }
      .section-2 {
        background: var(--accent-dark);
        color: #fff;
      }
      .section-3 {
        background: var(--bg-dark);
        color: var(--fg);
      }

      /* Reduce motion → no animar */
      @media (prefers-reduced-motion: reduce) {
        [data-reveal] {
          opacity: 1 !important;
          transform: none !important;
          transition: none !important;
        }
      }
    </style>
  </head>
  <body>
    <section class="section-1" data-reveal>Bienvenido al experimento</section>
    <section class="section-2" data-reveal>Scroll Reveal Animado</section>
    <section class="section-3" data-reveal>¡Gracias por mirar!</section>

    <noscript>
      <style>
        [data-reveal] {
          opacity: 1 !important;
          transform: none !important;
        }
      </style>
    </noscript>

    <script>
      const sections = document.querySelectorAll("[data-reveal]");

      const observer = new IntersectionObserver(
        (entries, obs) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              const el = entry.target;
              el.classList.add("revealed");
              obs.unobserve(el);

              // escalonar elementos hijos si los hubiera
              [...el.children].forEach((child, i) => {
                child.style.transitionDelay = `${i * 120}ms`;
              });
            }
          });
        },
        { threshold: 0.2 }
      );

      sections.forEach((el) => observer.observe(el));
    </script>
  </body>
</html>
